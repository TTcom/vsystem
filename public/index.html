<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <script src="live2d.js"></script>
    <title>drink</title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but drink doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <div class="waifu" style="position: fixed;z-index: 9999;bottom: 0;right: 0;">
      <canvas id="live2d" width="280"
      height="600" class="live2d"></canvas>
    </div>
  </body>
</html>
<script>
  const model =
  ['chitose',
  'epsilon2_1',
  'gf',
  'haru-01',
  'haru-02',
  'haruto',
  'hibiki',
  'hijiki',
  'izumi',
  'koharu',
  'miku',
  'ni-j',
  'nico',
  'nietzsche',
  'nipsilon',
  'nito',
  'shizuku',
  'tororo',
  'tsumiki',
  'unitychan',
  'wanko',
  'z16',]

  const cdnPrefix = 'https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0'
  function getUrl(index){
  let dir = '';
  let value = model[index]
  switch (value) {
  case 'gf':
  dir = "/live2d-widget-model-"+value+"/assets/Gantzert_Felixander.model.json"
  break
  case 'epsilon2_1':
  dir = "/live2d-widget-model-"+value+"/assets/Epsilon2.1.model.json"
  break
  case 'haru-01':
  dir = "/live2d-widget-model-haru/01/assets/haru01.model.json"
  break
  case 'haru-02':
  dir = "/live2d-widget-model-haru/02/assets/haru02.model.json"
  break
  case 'ni-j' :
  dir = "/live2d-widget-model-"+value+"/assets/ni-j.model.json"
  break
  default:
  dir = "/live2d-widget-model-"+value+"/assets/"+value+".model.json"
  }
  return cdnPrefix + dir
  }



  const intModel = (url)=>{
  loadlive2d('live2d', url);
  console.log('live2d','模型加载完成')
  }
  
  setInterval(() => {
  let index = Math.floor(Math.random()*model.length) // 可均衡获取 0 到 9 的随机整数。
  let url = getUrl(index)
  intModel(url) // 可均衡获取 0 到 9 的随机整数。
  }, 10 * 1000)
  let index = Math.floor(Math.random()*model.length) // 可均衡获取 0 到 9 的随机整数。
  let url = getUrl(index)
  intModel(url) // 可均衡获取 0 到 9 的随机整数。
</script>
